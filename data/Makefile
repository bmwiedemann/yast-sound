sndcards.ycp: map_indent/map_indent sndcards.ycp.in
	echo "/* this file is automatically generated for kernel version `uname -r` */" > sndcards.ycp ; \
	map_indent/map_indent sndcards.ycp.in >> sndcards.ycp
	
sndcards.ycp.in: cardlist.ycp modlist.ycp idlist.ycp
	/sbin/yast2 src/merge.ycp

#cardlist
cardlist.ycp: cardlist.ycp.in
	map_indent/map_indent cardlist.ycp.in > cardlist.ycp

cardlist.ycp.in: 
	/sbin/yast2 src/gen_card_list.ycp

# idlist
idlist.ycp: idlist.ycp.in
	map_indent/map_indent idlist.ycp.in > idlist.ycp

idlist.ycp.in:
	/sbin/yast2 src/gen_id_list.ycp

# modlist
modlist.ycp: modlist.ycp.in
	map_indent/map_indent modlist.ycp.in > modlist.ycp

modlist.ycp.in:
	/sbin/yast2 src/gen_opt_list.ycp

map_indent/map_indent:
	(cd map_indent; make)

clean:
	rm cardlist.ycp	    \
	   cardlist.ycp.in  \
	   modlist.ycp	    \
	   modlist.ycp.in   \
	   idlist.ycp	    \
	   idlist.ycp.in    \
	   sndcards.ycp.in  \
	   sndcards.ycp

install: 
	cp sndcards.ycp ../sound_db.ycp.generated
