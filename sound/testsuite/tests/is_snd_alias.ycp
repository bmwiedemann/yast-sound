{
    include "testsuite.ycp";

    // initialization is needed because module Sound imports the module Arch
    // and Arch module does a SCR call .probe.system
    map READ = $[
    "target": $[
        "size": -1,
	"tmpdir": "/tmp"],
    "probe" : $[
	    "system" : [],
    ]];

    TESTSUITE_INIT([READ], nil);

    import "Sound";
    include "sound/routines.ycp";

    foreach(`snd, [true, false],  // check for both alsa and oss behaviour
    ``{
	Sound::use_alsa = snd;
	TEST(``(is_snd_alias("")), [], nil);
	TEST(``(is_snd_alias("snd-card-0")), [], nil);
	TEST(``(is_snd_alias("snd-card-16")), [], nil);
	TEST(``(is_snd_alias("snd-card-emu10k1")), [], nil);
	TEST(``(is_snd_alias("snd-card-0a")), [], nil);
	TEST(``(is_snd_alias("snd-card-a0")), [], nil);
	TEST(``(is_snd_alias("sound-slot-1")), [], nil);
	TEST(``(is_snd_alias("sound-slot-117")), [], nil);
	TEST(``(is_snd_alias("sound-slot-0a")), [], nil);
	TEST(``(is_snd_alias("sound-slot-asdf")), [], nil);
	TEST(``(is_snd_alias("  sound-slot-0")), [], nil);

    });


}
